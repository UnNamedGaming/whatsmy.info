<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Device Information</title>
  </head>

  <body onload = "getLocation()" >
    <h1 style="font-family: Comfortaa; text-align: center;">PC Information Grabber</h1>

    <h2 style="font-family: Comfortaa; text-align: center;"><u><b>IP Address</b></u></h2>
    <div style="font-family: Comfortaa; text-align: center;"><h3 id="ipAddress"></h3></div>

    <h2 style="font-family: Comfortaa; text-align: center;"><u><b>Device Location</b></u></h2>
    <div style="font-family: Comfortaa; text-align: center;"><h3 id="deviceLocation"></h3></div>

    <h2 style="font-family: Comfortaa; text-align: center;"><u><b>Device Time</b></u></h2>
    <div style="font-family: Comfortaa; text-align: center;"><h3 id="deviceTime"></h3></div>

    <h2 style="font-family: Comfortaa; text-align: center;"><u><b>Operating System</b></u></h2>
    <div style="font-family: Comfortaa; text-align: center;"><h3 id="operatingSystem"></h3></div>

    <h2 style="font-family: Comfortaa; text-align: center;"><u><b>Device Type</b></u></h2>
    <div style="font-family: Comfortaa; text-align: center;"><h3 id="deviceType"></h3></div>

    <h2 style="font-family: Comfortaa; text-align: center;"><u><b>Browser Info</b></u></h2>
    <div style="font-family: Comfortaa; text-align: center;"><h3 id="browserInfo"></h3></div>
    
    <script>
    // Retrieve and display IP address
      fetch('https://api.ipify.org?format=json')
        .then(response => response.json())
        .then(data => {
          const ipAddress = data.ip;
          const ipAddressItem = document.getElementById("ipAddress");
          ipAddressItem.textContent = ipAddress;
        })

    // Retrieve and display device location
        function getLocation() {
          if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
          } else {
            document.getElementById("deviceLocation").innerHTML = "Geolocation is not supported by this browser.";
          }
        }
      
        function showPosition(position) {
          var latitude = position.coords.latitude;
          var longitude = position.coords.longitude;
          document.getElementById("deviceLocation").innerHTML = "Latitude: " + latitude + "    Longitude: " + longitude;
        }

    // Retrieve and display device time
      var today = new Date();
      var time = today.toLocaleTimeString();
      document.getElementById("deviceTime").innerHTML = time;

    // Retrieve and display browser information
      var browserinfo = navigator.userAgent;
      document.getElementById("browserInfo").innerHTML = browserinfo;

    // Retrieve and display operating system
      var os = navigator.platform;
      document.getElementById("operatingSystem").innerHTML = os;

    // Retrieve and display device type
    var device = "";
      if (navigator.userAgent.match(/Mobile/i)) {
        device = "Mobile";
      } else if (navigator.userAgent.match(/Tablet/i)) {
        device = "Tablet";
      } else {
        device = "Desktop";
      }
      document.getElementById("deviceType").innerHTML = device;
    </script>
  </body>
</html>
